ReadMe for SSIPM files used in L. Yamane et al. manuscript.  This is the code for Yamane et al., Canadian Journal of Fisheries and Aquatic Sciences (in prep), Quantifying local fishing mortality rates to inform how and where to monitor marine protected areas. The code builds upon data and code presented in White et al., Ecological Applications (2016) Fitting state-space integral projection models to time series data. The code for running the SSIPM is written in Matlab. 

Specific to Yamane et al.: 
runme_IPM_SMYS_AM.m, runme_IPM_SMYS_NP.m, and runme_IPM_SMYS_VB.m are the driver files for reading in PISCO monitoring data (read_PISCOdata_cluster.m) for MPAs Andrew Molera, Naples, and Vandenberg, respectively.  They are coded to run on a Linux-based computing cluster, but see IPM_statespace/runme_IPM.m from White et al. 2016 for a file to run locally.   
IPM_parameters_fit.m gives the parameters for the model runs, and rockfish_fit_pisco_cluster conducts the MCMC estimation of the F posterior distribution.
species_priors.m provided the priors on F.  Files to fit PISCO data are in folder: fit/.  

The runme_IPM_SMYS driver files above also rely on a number of helper files found in IPM_statespace from White et al. 2016:
do_IPM.m (to run the IPM)
kernmatSimp.m (generates the mesh kernel for IPM integration)
mkkern.m (makes the IPM kernel)
makeSimpVec (to make the Simpson vector for integration)
IPM_histo (to convert count data into histogram)

runme_IPM_mockdata_SMYS.m is the driver file that calls all of the necessary files for running the rockfish and urchin fits to simulated data reported in the Yamane et al. manuscript.  It and associated files are written to allow parallel processing on a Linux cluster.
The simulated age-structured data is generated by rockfish_mockdata.m (for varying fishing mortality and varying life history) and by rockfish_mockdata_ss.m (for effects of sample design), which create test datasets for MCMC IPM fitting.
Examples of the simulated data used in the manuscript is in folder: parallel_farm/mockdata.
And examples of fits to the mock data are in folder: parallel_farm/mockdata_fits.

Post-processing and figure-generating code includes: mockdata_plots_2.m, postproc_pisco_rockfish_2.m

R files:
Run theta_for_Fquality.R to obtain theta values, prior to running the visualization script Fquality.Rmd, 	



